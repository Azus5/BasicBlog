{"ast":null,"code":"var _jsxFileName = \"/home/abnerferrante/Documentos/TestesRails/frontend/src/pages/Login/index.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nexport default function Login(props) {\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [errors, setErrors] = useState('');\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    let user = {\n      username,\n      email,\n      password\n    };\n    axios.post('http://localhost:3000/login', {\n      user\n    }, {\n      withCredentials: true\n    }).then(response => {\n      if (response.data.logged_in) {\n        props.handleLogin(response.data);\n        redirect();\n      } else {\n        setErrors({\n          errors: response.data.errors\n        });\n      }\n    }).catch(err => console.log('Login error: ' + err.message));\n  }\n\n  function redirect() {\n    props.history.push('/');\n  }\n\n  function handleErros() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, errors.map(error => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: error,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 20\n        }\n      }, error);\n    })));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"Log in\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Username\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    placeholder: \"Email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    placeholder: \"submit\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Log In\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, \"or \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 14\n    }\n  }, \"Sign up\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, errors ? handleErros() : null));\n}","map":{"version":3,"sources":["/home/abnerferrante/Documentos/TestesRails/frontend/src/pages/Login/index.js"],"names":["React","useState","axios","Link","Login","props","username","setUsername","email","setEmail","password","setPassword","errors","setErrors","handleSubmit","event","preventDefault","user","post","withCredentials","then","response","data","logged_in","handleLogin","redirect","catch","err","console","log","message","history","push","handleErros","map","error","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nexport default function Login(props) {\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [errors, setErrors] = useState('');\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    let user = {\n      username,\n      email,\n      password\n    }\n\n    axios.post('http://localhost:3000/login', {user}, {withCredentials: true})\n      .then(response => {\n        if (response.data.logged_in) {\n          props.handleLogin(response.data);\n          redirect()\n        } else {\n          setErrors({\n            errors: response.data.errors\n          })\n        }\n      })\n      .catch(err => console.log('Login error: ' + err.message))\n  }\n\n  function redirect() {\n    props.history.push('/')\n  }\n\n  function handleErros() {\n    return (\n      <div>\n        <ul>\n          {errors.map(error => {\n            return <li key={error}>{error}</li>\n          })}\n        </ul>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <h1>Log in</h1>\n\n      <form onSubmit={handleSubmit}>\n        <input \n          type=\"text\" \n          name=\"username\" \n          placeholder=\"Username\"\n          value={username}\n          onChange={e => setUsername(e.target.value)}/>\n\n        <input \n          type=\"text\" \n          name=\"email\" \n          placeholder=\"Email\"\n          value={email}\n          onChange={e => setEmail(e.target.value)}/>          \n\n        <input \n          type=\"password\" \n          name=\"password\" \n          placeholder=\"Password\"\n          value={password}\n          onChange={e => setPassword(e.target.value)}/>\n\n        <button placeholder=\"submit\" type=\"submit\">Log In</button>\n\n        <div>\n          or <Link to='/signup'>Sign up</Link>\n        </div>\n      </form>\n      <div>\n        {\n          errors ? handleErros() : null\n        }\n      </div>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}